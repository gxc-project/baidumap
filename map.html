<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta name="keywords" content="map"/>
    <meta name="description" content="map"/>
    <title>baidu map</title>
    <link rel="icon" href="images/cube_2048.png"/>
    <style>
        *{
            margin:0;padding:0;
        }
        .wrap{
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
<div class="wrap" id="container">
</div>
</body>
<script src="http://api.map.baidu.com/api?v=2.0&ak=WFr4B6wLi5Zv35HSFcp77zdA" type="text/javascript"></script>
<script>
    document.getElementById('container').style.height = window.screen.height + 'px';
    var map = new BMap.Map("container");          // 创建地图实例
    var point = new BMap.Point(116.39, 39.999);  // 创建点坐标
    map.centerAndZoom(point, 13);
    map.disableDragging();
    map.setMapStyle({style:'midnight'});

    var p1 = new BMap.Point(116.39,39.977552);
    var p2 = new BMap.Point(116.39,40);
    var p3 = new BMap.Point(116.3879,39.98);

    var driving = new BMap.DrivingRoute( map, {onSearchComplete: function(results){
        if (driving.getStatus() == BMAP_STATUS_SUCCESS){
            var plan = driving.getResults().getPlan(0);
            var  num = plan.getNumRoutes();
            for(var j =0;j<num ;j++){
                //通过驾车实例，获得一系列点的数组
                var pts= plan.getRoute(j).getPath();
                var polyline = new BMap.Polyline(pts,{
                    strokeColor:'#d78bff',strokeWeight:6,strokeOpacity:0.9
                });
                map.addOverlay(polyline); //绘制轨迹
                pts[0]
            }
        }
    }});
    driving.search(p1, p2,{waypoints:[p3]});//waypoints表示途经点

    document.getElementsByClassName('anchorBL')[0].style.display = 'none';
</script>
</html>